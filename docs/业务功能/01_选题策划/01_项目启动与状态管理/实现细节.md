# 实现细节 - Project

## 1. Backend (dw-core)

### 1.1 Entity (`com.deepwrite.core.entity.Project`)
使用 MyBatis-Plus 注解。
- `@TableName("project")`
- `@TableId(type = IdType.AUTO)`
- `@TableLogic` for `deleted`

### 1.2 Mapper (`ProjectMapper`)
继承 `BaseMapper<Project>`。

### 1.3 Service (`ProjectService` / `ProjectServiceImpl`)
- `createProject(Long userId)`:
    - `new Project()`
    - `status = ProjectStatus.INIT`
    - `save()`
- `getProject(Long id)`:
    - `getById(id)`
    - Verify `userId` matches current user (Simple check)

### 1.4 Controller (`ProjectController`)
- `POST /v1/projects`: Call service to create.
- `GET /v1/projects/{id}`: Call service to get.

## 2. Frontend (dw-fronted)

### 2.1 Service (`services/projectService.ts`)
- `createProject()`
- `getProject(id)`

### 2.2 Store (`stores/useProjectStore.ts`)
使用 Zustand 管理全局 Project 状态。
- `currentProject: ProjectDTO | null`
- `setProject(project)`
- `fetchProject(id)`

### 2.3 Routing
- `/workspace`: 检查 Store 中是否有 Project。如果没有，创建新 Project 并更新 URL 为 `/workspace/{id}`。
- `/workspace/{id}`: 加载 Project，根据 `status` 渲染不同组件 (Phase 1 对应 `TopicSelectionView`)。
